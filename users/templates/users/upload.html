{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'users/css/upload.css' %}" />
    <title>Skillifyi</title>
    <link rel="icon" type="image/x-icon" href="{% static 'users/images/logo-favicon.ico' %}">
  </head>

  <body>
    <!-- Header Section -->
    <header>
      <div class="nav-container">
        <div class="logo-container">
          <a href="{% url 'home_page' %}" class="logo">
            <!-- Corrected image file reference -->
            <img
              src="{% static 'users/images/logo.png' %}"
              alt="Skillifyi Logo"
              class="logo-img"
            />
          </a>
          <span class="logo-text">Skillifyi</span>
        </div>

        <!-- Mobile Toggle Button -->
        <button
          class="nav-toggle"
          id="nav-toggle"
          aria-label="Toggle navigation"
        >
          <span class="hamburger">&#9776;</span>
        </button>

        <!-- Navigation Links -->
        <nav class="nav-links" id="nav-links">
          <ul>
            <li><a href="{% url 'home_page' %}">Home</a></li>
            <li><a href="{% url 'profile_page' %}">Profiles</a></li>
            <li><a href="{% url 'resource_list' %}">Resources</a></li>
            <li><a href="{% url 'blog_list' %}">Blogs</a></li>
            <li><a href="{% url 'event_list' %}">Events</a></li>
            <li><a href="{% url 'about_us' %}">About Us</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <section class="section-container">
      <div class="upload-container">
        <h1>Upload Content</h1>
        <form
          id="uploadForm"
          action="/users/api/resource-upload/"
          method="POST"
          enctype="multipart/form-data"
          data-action-url="{% url 'upload_page' %}"
        >
          {% csrf_token %}
          <!-- Type of Upload -->
          <label for="upload-type">Select Type:</label>
          <select
            id="upload-type"
            name="content_type"
            onchange="showFields()"
            required
          >
            <option value="">Select Type</option>
            <option value="resource">Resource</option>
            <option value="event">Event</option>
            <option value="blog">Blog</option>
          </select>

          <!-- Dynamic Fields -->
          <div id="dynamic-fields" style="display: none">
            <!-- Title -->
            <label for="title">Title:</label>
            <input
              type="text"
              id="title"
              name="title"
              placeholder="Enter title"
              required
            /><br />

            <!-- Description -->
            <label for="description">Description:</label>
            <textarea
              id="description"
              name="description"
              rows="4"
              placeholder="Enter description"
              required
            ></textarea>
            <br />

            <!-- Date (for Event only) -->
            <div id="date-field" style="display: none">
              <label for="date">Event Date:</label>
              <input type="date" id="date" name="date" />
            </div>
            <br />

            <!-- File Upload -->
            <label for="file_upload">Upload File:</label>
            <input type="file" id="file_upload" name="file-upload" accept=".pdf,.docx,.png,.jpg,.webp" required />
          </div>

          <!-- Corrected the `onclick` to call the `submitForm` function -->
          <button type="submit" class="submit-btn">
            Submit
          </button>
        </form>

        <a href="{% url 'profile_page' %}" class="back-link">Back to Profile</a>
      </div>
    </section>

    <!-- Footer Section -->
    <footer>
      <div class="footer-container">
        <!-- About Section -->
        <div class="footer-section">
          <h4>About Skillifyi</h4>
          <p>
            Skillifyi is a flexible platform that helps students and
            professionals develop and showcase their skills.
          </p>
        </div>

        <!-- Quick Links -->
        <div class="footer-section">
          <h4>Quick Links</h4>
          <a href="{% url 'home_page' %}">Home</a>
          <a href="{% url 'resource_list' %}">Resources</a>
          <a href="{% url 'blog_list' %}">Blogs</a>
          <a href="{% url 'event_list' %}">Events</a>
          <a href="{% url 'about_us' %}">About Us</a>
        </div>

        <!-- Contact Section -->
        <div class="footer-section">
          <h4>Contact Us</h4>
          <p>Email: contact@skillifyi.com</p>
          <p>Phone: +91 9876543210</p>
          <p>Address: Bhavnagar, Gujarat, India</p>
        </div>

        <!-- Social Media Section -->
        <div class="footer-section">
          <h4>Follow Us</h4>
          <div class="social-icons">
            <a href="#" title="Facebook">&#xf09a;</a>
            <a href="#" title="Twitter">&#xf099;</a>
            <a href="#" title="Instagram">&#xf16d;</a>
            <a href="#" title="LinkedIn">&#xf0e1;</a>
          </div>
        </div>
      </div>
      <hr />

      <!-- Copyright Info -->
      <div class="copyright">&copy; 2025 Skillifyi. All rights reserved.</div>
    </footer>
    <script
      type="text/javascript"
      src="{% static 'users/js/upload.js' %}"
    ></script>
  </body>
</html>
